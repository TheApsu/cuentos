{"version":3,"file":"src_app_pages_visor_visor_module_ts.js","mappings":"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","sources":["./src/app/pages/visor/components/components.module.ts","./src/app/pages/visor/components/pdf/pdf.component.ts","./src/app/pages/visor/visor-routing.module.ts","./src/app/pages/visor/visor.module.ts","./src/app/pages/visor/visor.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PdfComponent } from './pdf/pdf.component';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nconst declarations = [\r\n  PdfComponent\r\n]\r\n\r\n@NgModule({\r\n  declarations,\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule\r\n  ],\r\n  exports: declarations\r\n})\r\nexport class ComponentsVisorModule { }\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  Input,\r\n  OnInit,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { DataDuration } from 'src/app/interfaces/interface';\r\nimport { UiService } from 'src/app/services/ui.service';\r\nimport { ServicioService } from 'src/app/servicio.service';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-pdf',\r\n  templateUrl: './pdf.component.html',\r\n  styleUrls: ['./pdf.component.scss'],\r\n})\r\nexport class PdfComponent implements OnInit {\r\n  @ViewChild('theCanvas', { static: true })\r\n  theCanvas: ElementRef<HTMLCanvasElement>;\r\n  // @ViewChild('storieAudio', { static: true }) storieAudio: ElementRef<HTMLAudioElement>;\r\n  @Input() url = '';\r\n  @Input() titulo = '';\r\n\r\n  private storieAudio: HTMLAudioElement = undefined;\r\n  private _ctx = undefined;\r\n  private _pageNumPending = null;\r\n  private pdfjsLib = undefined;\r\n  private _durationData: DataDuration[] = [];\r\n  private _durationPage: DataDuration = undefined;\r\n\r\n  get storyAudio() {\r\n    return this.storieAudio;\r\n  }\r\n\r\n  public pdfDoc = null;\r\n  public pageRendering = false;\r\n  public pageNum = 1;\r\n  public totalPages = 1;\r\n  public audioUrl = undefined;\r\n  private fixedTitle: string = undefined;\r\n  private _finished = false;\r\n  public controlAudioIcon = 'pause';\r\n  // private audio: HTMLAudioElement = undefined;\r\n\r\n  constructor(private uiSv: UiService, private servicio: ServicioService) {}\r\n\r\n  async ngOnInit() {\r\n    const fixedTitle = this.removeAccents(this.titulo);\r\n    this.fixedTitle = fixedTitle;\r\n    await this.getData();\r\n    this.audioUrl = `${environment.cuentosUrl}/cuentos/${fixedTitle}.mp3`;\r\n    this.pdfjsLib = window['pdfjs-dist/build/pdf'];\r\n    this.pdfjsLib.GlobalWorkerOptions.workerSrc =\r\n      'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';\r\n    this.getPdf();\r\n  }\r\n\r\n  async getData() {\r\n    const data: any = await this.servicio.consultarCuentos('db.json');\r\n    const duration = data.audiosDuration;\r\n    const audio: DataDuration[] = duration.find(\r\n      (item) => this.removeAccents(item.pdfName) === this.fixedTitle\r\n    )?.data;\r\n    const audioPage = audio.find((x) => x.page === this.pageNum);\r\n    if (audioPage) {\r\n      this.renderPage(this.pageNum);\r\n      //PARA PROBAR EL FINAL SOLAMENTE\r\n      // audioPage.init = audioPage.end - 5;\r\n    }\r\n    this._durationData = audio;\r\n  }\r\n\r\n  removeAccents(str: string) {\r\n    return str\r\n      .normalize('NFD')\r\n      .replace(/[\\u0300-\\u036f]/g, '')\r\n      .toLocaleLowerCase()\r\n      .replace(/ /g, '_');\r\n  }\r\n\r\n  async setAudio(pageNum) {\r\n    const audioEl = this.storieAudio;\r\n    if (!audioEl.paused) {\r\n      audioEl.pause();\r\n    }\r\n    this._durationPage = this._durationData.find((x) => x.page === pageNum);\r\n    if (this._durationPage) {\r\n      audioEl.currentTime = this._durationPage.init;\r\n      this.controlAudioIcon = 'pause';\r\n      this._finished = false;\r\n      await audioEl.play();\r\n    }\r\n  }\r\n\r\n  async checkTime(ev?) {\r\n    const audioEl = ev?.target || this.storieAudio;\r\n    if (this._durationPage && audioEl.currentTime > this._durationPage.end) {\r\n      this.controlAudioIcon = 'play';\r\n      this._finished = true;\r\n      audioEl.pause();\r\n    }\r\n  }\r\n\r\n  async getPdf() {\r\n    await this.uiSv.showLoading();\r\n    this._ctx = this.theCanvas.nativeElement.getContext('2d');\r\n    this.pdfjsLib.getDocument(this.url).promise.then(async (pdfDoc_: any) => {\r\n      this.pdfDoc = pdfDoc_;\r\n      this.totalPages = this.pdfDoc.numPages;\r\n      await this.uiSv.dismissLoading();\r\n      this.renderPage(this.pageNum);\r\n    });\r\n  }\r\n\r\n  async renderPage(num) {\r\n    try {\r\n      this.pageRendering = true;\r\n      // Using promise to fetch the page\r\n      const canvas = this.theCanvas.nativeElement;\r\n      await this.uiSv.showLoading('');\r\n      this.pdfDoc?.getPage(num).then((page) => {\r\n        const viewport = page.getViewport({ scale: 1 });\r\n        canvas.height = viewport.height;\r\n        canvas.width = viewport.width;\r\n\r\n        // Render PDF page into canvas context\r\n        const renderContext = {\r\n          canvasContext: this._ctx,\r\n          viewport: viewport,\r\n        };\r\n\r\n        setTimeout(() => {\r\n          const renderTask = page.render(renderContext);\r\n\r\n          // Wait for rendering to finish\r\n          renderTask.promise.then(async () => {\r\n            this.pageRendering = false;\r\n            if (this._pageNumPending !== null) {\r\n              // New page rendering is pending\r\n              this.renderPage(this._pageNumPending);\r\n              this._pageNumPending = null;\r\n            }\r\n            await this.uiSv.dismissLoading();\r\n\r\n            if (!this.storieAudio) {\r\n              await this.uiSv.showLoading('');\r\n              this.storieAudio = new Audio(this.audioUrl);\r\n              // this.storieAudio.playbackRate = 2.0;\r\n              this.storieAudio.addEventListener('canplaythrough', async () => {\r\n                this.storieAudio.addEventListener('timeupdate', async () => {\r\n                  // console.log('object :>> ', object);\r\n                  await this.checkTime();\r\n                });\r\n                await this.uiSv.dismissLoading();\r\n              });\r\n              this.setAudio(this.pageNum);\r\n            } else {\r\n              this.setAudio(this.pageNum);\r\n            }\r\n          });\r\n        }, 100);\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      await this.uiSv.dismissLoading();\r\n    }\r\n\r\n    // Update page counters\r\n    // document.getElementById('page_num').textContent = num;\r\n  }\r\n\r\n  nextPage(forward) {\r\n    if (forward && this.pageNum < this.totalPages) {\r\n      this.pageNum++;\r\n    } else if (!forward && this.pageNum > 1) {\r\n      this.pageNum--;\r\n    }\r\n    this.renderPage(this.pageNum);\r\n  }\r\n\r\n  playOrPause() {\r\n    // this.controlAudioIcon = this.storieAudio.paused ? 'play' : 'pause';\r\n    if (this.storieAudio.paused) {\r\n      this.controlAudioIcon = 'pause';\r\n      if (this._finished) {\r\n        this.setAudio(this.pageNum);\r\n      }\r\n      this.storieAudio.play();\r\n    } else {\r\n      this.controlAudioIcon = 'play';\r\n      this.storieAudio.pause();\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { VisorPage } from './visor.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: VisorPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class VisorPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { VisorPageRoutingModule } from './visor-routing.module';\r\n\r\nimport { VisorPage } from './visor.page';\r\nimport { PipesModule } from 'src/app/pipes/pipes.module';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { ComponentsVisorModule } from './components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    VisorPageRoutingModule,\r\n    PipesModule,\r\n    ComponentsModule,\r\n    ComponentsVisorModule\r\n  ],\r\n  declarations: [VisorPage]\r\n})\r\nexport class VisorPageModule {}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NavController } from '@ionic/angular';\r\nimport { environment } from 'src/environments/environment';\r\nimport { PdfComponent } from './components/pdf/pdf.component';\r\n\r\n@Component({\r\n  selector: 'app-visor',\r\n  templateUrl: './visor.page.html',\r\n  styleUrls: ['./visor.page.scss'],\r\n})\r\nexport class VisorPage implements OnInit {\r\n  @ViewChild('appPdf') appPdf: PdfComponent;\r\n\r\n  public titulo = 'Titulo';\r\n  public id = this.route.snapshot.paramMap.get('id');\r\n  public url = environment.cuentosUrl;\r\n\r\n  constructor(private route: ActivatedRoute, private navCtrl: NavController) {}\r\n\r\n  ngOnInit() {\r\n    this.titulo = this.route.snapshot.paramMap.get('titulo');\r\n  }\r\n\r\n  async back() {\r\n    this.appPdf.storyAudio?.pause();\r\n    await this.navCtrl.navigateBack('tab/principal/cuentos');\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}